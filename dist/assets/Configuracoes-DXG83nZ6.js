import"./uf.service-Bn8JpA_W.js";import{D as F,L,U as M,B as S,C as T}from"./product.service-DE7QUhp7.js";import{s as w}from"./snackbar-BTqzwliu.js";import{s as R,c as Z}from"./index-BNH3mZEl.js";import{_ as k,a1 as A,f as D,o as y,a as l,w as t,b as h,e as s,t as g,G as O}from"./index-Dh7kI4jI.js";import{h as m,c,b as f,i as I,V as $,a as ee,d as C,f as le}from"./VCard-Cmc6vJ8q.js";import{a as n,V as u}from"./VTextField-BR1_iDts.js";import{V as E}from"./VDataTable-CkDrtwBk.js";import{V as U}from"./VForm-BXt1Yd4O.js";import{V as x}from"./VSpacer-C-EbNKMr.js";import{V as v}from"./VDialog-D8AhXgcU.js";import{V as P}from"./VChip-DgJE4qLc.js";import{V as j}from"./VSelect-DK1SXm7i.js";import{S as q}from"./supplier.service-D8RTGJYr.js";import{V as te,a as _,b as ie,c as b}from"./VTabs-anF3fkM7.js";import"./tag-CE7kSe09.js";import"./ssrBoot-CK06tIrr.js";import"./filter-B-yaYJPB.js";import"./VMenu-x2Orytf9.js";const oe={name:"Depositos",mixins:[w],computed:{sharedRules(){return R},formTitle(){return this.editedIndex===-1?"Novo Depósito":"Editar Depósito"}},data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,depositos:[],editedIndex:-1,editedItem:{id:0,nome:"",endereco_logradouro:"",endereco_numero:"",endereco_complemento:"",endereco_cep:"",endereco_bairro:"",endereco_municipio:"",endereco_uf:""},defaultItem:{id:0,nome:"",endereco_logradouro:"",endereco_numero:"",endereco_complemento:"",endereco_cep:"",endereco_bairro:"",endereco_municipio:"",endereco_uf:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"Endereço",key:"endereco_logradouro",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},mounted(){this.loadDepositos()},methods:{async loadDepositos(){this.loading=!0;try{this.depositos=await F.getAll()}catch{this.showError("Erro ao carregar depósitos")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(a){this.editedIndex=this.depositos.indexOf(a),this.editedItem={...a},this.dialog=!0},deleteItem(a){this.editedIndex=this.depositos.indexOf(a),this.editedItem={...a},this.deleteDialog=!0},async deleteItemConfirm(){try{await F.delete(this.editedItem.id),this.depositos.splice(this.editedIndex,1),this.showSuccess("Depósito excluído com sucesso!")}catch{this.showError("Erro ao excluir depósito")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},onCEPKeypress(a){const e=String.fromCodePoint(a.which);/[0-9]/.test(e)||a.preventDefault()},async save(){if(this.validForm)try{if(this.editedIndex>-1){const a=await F.update(this.editedItem.id,this.editedItem);this.depositos[this.editedIndex]=a,this.showSuccess("Depósito atualizado com sucesso!")}else{const a=await F.create(this.editedItem);this.depositos.push(a),this.showSuccess("Depósito criado com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar depósito")}}}},ae={class:"depositos"},de={class:"text-h5"};function re(a,e,p,V,o,i){const d=A("mask");return y(),D("div",ae,[l(f,null,{default:t(()=>[l(m,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[13]||(e[13]=h("span",{class:"text-h6"},"Gerenciar Depósitos",-1)),l(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>i.openDialog())},{default:t(()=>[...e[12]||(e[12]=[s(" Novo Depósito ",-1)])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(E,{headers:o.headers,items:o.depositos,loading:o.loading,class:"elevation-1"},{"item.actions":t(({item:r})=>[l(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:z=>i.editItem(r)},null,8,["onClick"]),l(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:z=>i.deleteItem(r)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),l(v,{modelValue:o.dialog,"onUpdate:modelValue":e[10]||(e[10]=r=>o.dialog=r),"max-width":"600px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,null,{default:t(()=>[h("span",de,g(i.formTitle),1)]),_:1}),l(c,null,{default:t(()=>[l(U,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[9]||(e[9]=r=>o.validForm=r)},{default:t(()=>[l(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=r=>o.editedItem.nome=r),label:"Nome do Depósito",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(100),i.sharedRules.alfanumerico],counter:"100",required:""},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.endereco_logradouro,"onUpdate:modelValue":e[2]||(e[2]=r=>o.editedItem.endereco_logradouro=r),label:"Logradouro",rules:[i.sharedRules.required,i.sharedRules.minLength(5),i.sharedRules.maxLength(100),i.sharedRules.alfanumerico],counter:"100",required:""},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.endereco_numero,"onUpdate:modelValue":e[3]||(e[3]=r=>o.editedItem.endereco_numero=r),label:"Número",rules:[i.sharedRules.required,i.sharedRules.maxLength(20),i.sharedRules.alfanumerico],counter:"20",required:""},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.endereco_complemento,"onUpdate:modelValue":e[4]||(e[4]=r=>o.editedItem.endereco_complemento=r),label:"Complemento",rules:[i.sharedRules.maxLength(255)],counter:"255"},null,8,["modelValue","rules"]),O(l(u,{modelValue:o.editedItem.endereco_cep,"onUpdate:modelValue":e[5]||(e[5]=r=>o.editedItem.endereco_cep=r),label:"CEP",rules:[i.sharedRules.required,i.sharedRules.cep],onKeypress:i.onCEPKeypress,required:""},null,8,["modelValue","rules","onKeypress"]),[[d,"#####-###"]]),l(u,{modelValue:o.editedItem.endereco_bairro,"onUpdate:modelValue":e[6]||(e[6]=r=>o.editedItem.endereco_bairro=r),label:"Bairro",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(150),i.sharedRules.alfanumerico],counter:"150",required:""},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.endereco_municipio,"onUpdate:modelValue":e[7]||(e[7]=r=>o.editedItem.endereco_municipio=r),label:"Município",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(150),i.sharedRules.nome],counter:"150",required:""},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.endereco_uf,"onUpdate:modelValue":e[8]||(e[8]=r=>o.editedItem.endereco_uf=r),label:"UF",rules:[i.sharedRules.required,i.sharedRules.uf],maxlength:"2",counter:"2",required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDialog},{default:t(()=>[...e[14]||(e[14]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:i.save},{default:t(()=>[...e[15]||(e[15]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[11]||(e[11]=r=>o.deleteDialog=r),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,{class:"text-h5"},{default:t(()=>[...e[16]||(e[16]=[s("Confirmar Exclusão",-1)])]),_:1}),l(c,null,{default:t(()=>[s(' Tem certeza que deseja excluir o depósito "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDeleteDialog},{default:t(()=>[...e[17]||(e[17]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"error",variant:"text",onClick:i.deleteItemConfirm},{default:t(()=>[...e[18]||(e[18]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const K=k(oe,[["render",re]]),se={name:"Localizacoes",mixins:[w],computed:{sharedRules(){return R},formTitle(){return this.editedIndex===-1?"Nova Localização":"Editar Localização"}},data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,localizacoes:[],depositos:[],editedIndex:-1,editedItem:{id:0,id_deposito:0,corredor:"",prateleira:"",secao:""},defaultItem:{id:0,id_deposito:0,corredor:"",prateleira:"",secao:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Depósito",key:"deposito_nome",sortable:!0},{title:"Corredor",key:"corredor",sortable:!0},{title:"Prateleira",key:"prateleira",sortable:!0},{title:"Seção",key:"secao",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},mounted(){this.loadData()},methods:{async loadData(){this.loading=!0;try{const[a,e]=await Promise.all([L.getAll(),F.getAll()]);this.localizacoes=a,this.depositos=e}catch{this.showError("Erro ao carregar dados")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(a){this.editedIndex=this.localizacoes.indexOf(a),this.editedItem={...a},this.dialog=!0},deleteItem(a){this.editedIndex=this.localizacoes.indexOf(a),this.editedItem={...a},this.deleteDialog=!0},async deleteItemConfirm(){try{await L.delete(this.editedItem.id),this.localizacoes.splice(this.editedIndex,1),this.showSuccess("Localização excluída com sucesso!")}catch{this.showError("Erro ao excluir localização")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const a=await L.update(this.editedItem.id,this.editedItem);this.localizacoes[this.editedIndex]=a,this.showSuccess("Localização atualizada com sucesso!")}else{const a=await L.create(this.editedItem);this.localizacoes.push(a),this.showSuccess("Localização criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar localização")}}}},ne={class:"localizacoes"},ue={class:"text-h5"};function me(a,e,p,V,o,i){return y(),D("div",ne,[l(f,null,{default:t(()=>[l(m,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[9]||(e[9]=h("span",{class:"text-h6"},"Gerenciar Localizações",-1)),l(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>i.openDialog())},{default:t(()=>[...e[8]||(e[8]=[s(" Nova Localização ",-1)])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(E,{headers:o.headers,items:o.localizacoes,loading:o.loading,class:"elevation-1"},{"item.deposito_nome":t(({item:d})=>[l(P,{color:"info",variant:"outlined"},{default:t(()=>[s(g(d.deposito_nome),1)]),_:2},1024)]),"item.actions":t(({item:d})=>[l(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>i.editItem(d)},null,8,["onClick"]),l(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:r=>i.deleteItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),l(v,{modelValue:o.dialog,"onUpdate:modelValue":e[6]||(e[6]=d=>o.dialog=d),"max-width":"600px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,null,{default:t(()=>[h("span",ue,g(i.formTitle),1)]),_:1}),l(c,null,{default:t(()=>[l(U,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[5]||(e[5]=d=>o.validForm=d)},{default:t(()=>[l(j,{modelValue:o.editedItem.id_deposito,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.id_deposito=d),items:o.depositos,"item-title":"nome","item-value":"id",label:"Depósito",rules:[i.sharedRules.required],required:""},null,8,["modelValue","items","rules"]),l(u,{modelValue:o.editedItem.corredor,"onUpdate:modelValue":e[2]||(e[2]=d=>o.editedItem.corredor=d),label:"Corredor",rules:[i.sharedRules.maxLength(50),i.sharedRules.alfanumerico],counter:"50"},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.prateleira,"onUpdate:modelValue":e[3]||(e[3]=d=>o.editedItem.prateleira=d),label:"Prateleira",rules:[i.sharedRules.maxLength(50),i.sharedRules.alfanumerico],counter:"50"},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.secao,"onUpdate:modelValue":e[4]||(e[4]=d=>o.editedItem.secao=d),label:"Seção",rules:[i.sharedRules.maxLength(50),i.sharedRules.alfanumerico],counter:"50"},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDialog},{default:t(()=>[...e[10]||(e[10]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:i.save},{default:t(()=>[...e[11]||(e[11]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[7]||(e[7]=d=>o.deleteDialog=d),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,{class:"text-h5"},{default:t(()=>[...e[12]||(e[12]=[s("Confirmar Exclusão",-1)])]),_:1}),l(c,null,{default:t(()=>[...e[13]||(e[13]=[s(" Tem certeza que deseja excluir esta localização? ",-1)])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDeleteDialog},{default:t(()=>[...e[14]||(e[14]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"error",variant:"text",onClick:i.deleteItemConfirm},{default:t(()=>[...e[15]||(e[15]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const G=k(se,[["render",me]]),ce={name:"Fornecedores",mixins:[w],computed:{sharedRules(){return R}},data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,fornecedores:[],editedIndex:-1,editedItem:{id:0,nome:"",cnpj:"",contato_nome:"",contato_valor:"",contato_tipo:"telefone"},defaultItem:{id:0,nome:"",cnpj:"",contato_nome:"",contato_valor:"",contato_tipo:"telefone"},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"CNPJ",key:"cnpj",sortable:!0},{title:"Contato",key:"contato_nome",sortable:!0},{title:"Ações",key:"actions",sortable:!1}],tipoContatoOptions:[{title:"Telefone",value:"telefone"},{title:"Email",value:"email"},{title:"WhatsApp",value:"whatsapp"},{title:"Instagram",value:"instagram"},{title:"Telegram",value:"telegram"},{title:"Outro",value:"outro"}]}},mounted(){this.loadFornecedores()},methods:{async loadFornecedores(){this.loading=!0;try{this.fornecedores=await q.getAll()}catch{this.showError("Erro ao carregar fornecedores")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(a){this.editedIndex=this.fornecedores.indexOf(a),this.editedItem={...a},this.dialog=!0},deleteItem(a){this.editedIndex=this.fornecedores.indexOf(a),this.editedItem={...a},this.deleteDialog=!0},async deleteItemConfirm(){try{await q.delete(this.editedItem.id),this.fornecedores.splice(this.editedIndex,1),this.showSuccess("Fornecedor excluído com sucesso!")}catch{this.showError("Erro ao excluir fornecedor")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},getContactMask(a){switch(a){case"telefone":case"whatsapp":return"(##) #####-####";case"email":return"";case"instagram":case"telegram":return"";default:return""}},formatContactValue(a){const p=a.target.value,V=this.editedItem.contato_tipo;if(V==="telefone"||V==="whatsapp"){const i=p.replace(/\D/g,"").slice(0,11);i.length<=2?this.editedItem.contato_valor=i:i.length<=6?this.editedItem.contato_valor=`(${i.slice(0,2)}) ${i.slice(2)}`:i.length<=10?this.editedItem.contato_valor=`(${i.slice(0,2)}) ${i.slice(2,6)}-${i.slice(6)}`:this.editedItem.contato_valor=`(${i.slice(0,2)}) ${i.slice(2,7)}-${i.slice(7)}`}else this.editedItem.contato_valor=p.slice(0,100)},onContactKeypress(a){const e=this.editedItem.contato_tipo;if(e==="telefone"||e==="whatsapp"){const p=String.fromCodePoint(a.which);/[0-9]/.test(p)||a.preventDefault()}},onCNPJKeypress(a){const e=String.fromCodePoint(a.which);/[0-9]/.test(e)||a.preventDefault()},async save(){if(this.validForm)try{if(this.editedIndex>-1){const a=await q.update(this.editedItem.id,this.editedItem);this.fornecedores[this.editedIndex]=a,this.showSuccess("Fornecedor atualizado com sucesso!")}else{const a=await q.create(this.editedItem);this.fornecedores.push(a),this.showSuccess("Fornecedor criado com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar fornecedor")}}}},fe={class:"fornecedores"},he={class:"text-h5"};function ge(a,e,p,V,o,i){const d=A("mask");return y(),D("div",fe,[l(f,null,{default:t(()=>[l(m,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[10]||(e[10]=h("span",{class:"text-h6"},"Gerenciar Fornecedores",-1)),l(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>i.openDialog())},{default:t(()=>[...e[9]||(e[9]=[s(" Novo Fornecedor ",-1)])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(E,{headers:o.headers,items:o.fornecedores,loading:o.loading,class:"elevation-1"},{"item.actions":t(({item:r})=>[l(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:z=>i.editItem(r)},null,8,["onClick"]),l(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:z=>i.deleteItem(r)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),l(v,{modelValue:o.dialog,"onUpdate:modelValue":e[7]||(e[7]=r=>o.dialog=r),"max-width":"600px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,null,{default:t(()=>[h("span",he,g(a.formTitle),1)]),_:1}),l(c,null,{default:t(()=>[l(U,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[6]||(e[6]=r=>o.validForm=r)},{default:t(()=>[l(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=r=>o.editedItem.nome=r),label:"Nome do Fornecedor",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(150),i.sharedRules.nome],counter:"150",required:""},null,8,["modelValue","rules"]),O(l(u,{modelValue:o.editedItem.cnpj,"onUpdate:modelValue":e[2]||(e[2]=r=>o.editedItem.cnpj=r),label:"CNPJ",rules:[i.sharedRules.cnpj],onKeypress:i.onCNPJKeypress},null,8,["modelValue","rules","onKeypress"]),[[d,"##.###.###/####-##"]]),l(u,{modelValue:o.editedItem.contato_nome,"onUpdate:modelValue":e[3]||(e[3]=r=>o.editedItem.contato_nome=r),label:"Nome do Contato",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(255),i.sharedRules.nome],counter:"255",required:""},null,8,["modelValue","rules"]),l(u,{modelValue:o.editedItem.contato_valor,"onUpdate:modelValue":e[4]||(e[4]=r=>o.editedItem.contato_valor=r),label:"Telefone/Email",rules:[i.sharedRules.required,i.sharedRules.minLength(8),i.sharedRules.maxLength(50)],counter:"50",mask:i.getContactMask(o.editedItem.contato_tipo),onInput:i.formatContactValue,onKeypress:i.onContactKeypress,required:""},null,8,["modelValue","rules","mask","onInput","onKeypress"]),l(j,{modelValue:o.editedItem.contato_tipo,"onUpdate:modelValue":e[5]||(e[5]=r=>o.editedItem.contato_tipo=r),items:o.tipoContatoOptions,label:"Tipo de Contato",rules:[i.sharedRules.required],required:""},null,8,["modelValue","items","rules"])]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDialog},{default:t(()=>[...e[11]||(e[11]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:i.save},{default:t(()=>[...e[12]||(e[12]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[8]||(e[8]=r=>o.deleteDialog=r),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,{class:"text-h5"},{default:t(()=>[...e[13]||(e[13]=[s("Confirmar Exclusão",-1)])]),_:1}),l(c,null,{default:t(()=>[s(' Tem certeza que deseja excluir o fornecedor "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDeleteDialog},{default:t(()=>[...e[14]||(e[14]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"error",variant:"text",onClick:i.deleteItemConfirm},{default:t(()=>[...e[15]||(e[15]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const B=k(ce,[["render",ge]]),pe={name:"UnidadesMedida",mixins:[w],computed:{sharedRules(){return R},formTitle(){return this.editedIndex===-1?"Nova Unidade de Medida":"Editar Unidade de Medida"}},data(){return{loading:!1,dialog:!1,validForm:!1,formRef:null,unidades:[],editedIndex:-1,editedItem:{id:0,descricao:"",abreviacao:"un"},defaultItem:{id:0,descricao:"",abreviacao:"un"},headers:[{title:"ID",key:"id",sortable:!0},{title:"Descrição",key:"descricao",sortable:!0},{title:"Abreviação",key:"abreviacao",sortable:!0},{title:"Ações",key:"actions",sortable:!1}],unidadeOptions:[{title:"Unidade",value:"un"},{title:"Quilograma",value:"kg"},{title:"Litro",value:"L"},{title:"Pacote",value:"pac"},{title:"Caixa",value:"cx"},{title:"Grama",value:"g"},{title:"Mililitro",value:"ml"}]}},mounted(){this.loadUnidades()},methods:{async loadUnidades(){this.loading=!0;try{this.unidades=await M.getAll()}catch{this.showError("Erro ao carregar unidades de medida")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(a){this.editedIndex=this.unidades.indexOf(a),this.editedItem={...a},this.dialog=!0},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const a=await M.update(this.editedItem.id,this.editedItem);this.unidades[this.editedIndex]=a,this.showSuccess("Unidade de medida atualizada com sucesso!")}else{const a=await M.create(this.editedItem);this.unidades.push(a),this.showSuccess("Unidade de medida criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar unidade de medida")}}}},Ie={class:"unidades-medida"},xe={class:"text-h5"};function ve(a,e,p,V,o,i){return y(),D("div",Ie,[l(f,null,{default:t(()=>[l(m,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[6]||(e[6]=h("span",{class:"text-h6"},"Gerenciar Unidades de Medida",-1)),l(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>i.openDialog())},{default:t(()=>[...e[5]||(e[5]=[s(" Nova Unidade ",-1)])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(E,{headers:o.headers,items:o.unidades,loading:o.loading,class:"elevation-1"},{"item.abreviacao":t(({item:d})=>[l(P,{color:"primary",variant:"outlined"},{default:t(()=>[s(g(d.abreviacao),1)]),_:2},1024)]),"item.actions":t(({item:d})=>[l(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>i.editItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),l(v,{modelValue:o.dialog,"onUpdate:modelValue":e[4]||(e[4]=d=>o.dialog=d),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,null,{default:t(()=>[h("span",xe,g(i.formTitle),1)]),_:1}),l(c,null,{default:t(()=>[l(U,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[3]||(e[3]=d=>o.validForm=d)},{default:t(()=>[l(u,{modelValue:o.editedItem.descricao,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.descricao=d),label:"Descrição",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(50),i.sharedRules.alfanumerico],counter:"50",required:""},null,8,["modelValue","rules"]),l(j,{modelValue:o.editedItem.abreviacao,"onUpdate:modelValue":e[2]||(e[2]=d=>o.editedItem.abreviacao=d),items:o.unidadeOptions,label:"Abreviação",rules:[i.sharedRules.required],required:""},null,8,["modelValue","items","rules"])]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDialog},{default:t(()=>[...e[7]||(e[7]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:i.save},{default:t(()=>[...e[8]||(e[8]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const J=k(pe,[["render",ve]]),Ve={name:"Marcas",mixins:[w],computed:{sharedRules(){return R},formTitle(){return this.editedIndex===-1?"Nova Marca":"Editar Marca"}},data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,marcas:[],editedIndex:-1,editedItem:{id:0,nome:""},defaultItem:{id:0,nome:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},mounted(){this.loadMarcas()},methods:{async loadMarcas(){this.loading=!0;try{this.marcas=await S.getAll()}catch{this.showError("Erro ao carregar marcas")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(a){this.editedIndex=this.marcas.indexOf(a),this.editedItem={...a},this.dialog=!0},deleteItem(a){this.editedIndex=this.marcas.indexOf(a),this.editedItem={...a},this.deleteDialog=!0},async deleteItemConfirm(){try{await S.delete(this.editedItem.id),this.marcas.splice(this.editedIndex,1),this.showSuccess("Marca excluída com sucesso!")}catch{this.showError("Erro ao excluir marca")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const a=await S.update(this.editedItem.id,this.editedItem);this.marcas[this.editedIndex]=a,this.showSuccess("Marca atualizada com sucesso!")}else{const a=await S.create(this.editedItem);this.marcas.push(a),this.showSuccess("Marca criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar marca")}}}},Ce={class:"marcas"},ke={class:"text-h5"};function De(a,e,p,V,o,i){return y(),D("div",Ce,[l(f,null,{default:t(()=>[l(m,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[6]||(e[6]=h("span",{class:"text-h6"},"Gerenciar Marcas",-1)),l(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>i.openDialog())},{default:t(()=>[...e[5]||(e[5]=[s(" Nova Marca ",-1)])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(E,{headers:o.headers,items:o.marcas,loading:o.loading,class:"elevation-1"},{"item.actions":t(({item:d})=>[l(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>i.editItem(d)},null,8,["onClick"]),l(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:r=>i.deleteItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),l(v,{modelValue:o.dialog,"onUpdate:modelValue":e[3]||(e[3]=d=>o.dialog=d),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,null,{default:t(()=>[h("span",ke,g(i.formTitle),1)]),_:1}),l(c,null,{default:t(()=>[l(U,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[2]||(e[2]=d=>o.validForm=d)},{default:t(()=>[l(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.nome=d),label:"Nome da Marca",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(100),i.sharedRules.nome],counter:"100",required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDialog},{default:t(()=>[...e[7]||(e[7]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:i.save},{default:t(()=>[...e[8]||(e[8]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[4]||(e[4]=d=>o.deleteDialog=d),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,{class:"text-h5"},{default:t(()=>[...e[9]||(e[9]=[s("Confirmar Exclusão",-1)])]),_:1}),l(c,null,{default:t(()=>[s(' Tem certeza que deseja excluir a marca "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDeleteDialog},{default:t(()=>[...e[10]||(e[10]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"error",variant:"text",onClick:i.deleteItemConfirm},{default:t(()=>[...e[11]||(e[11]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const W=k(Ve,[["render",De]]),ye={name:"Categorias",mixins:[w],computed:{formTitle(){return this.editedIndex===-1?"Nova Categoria":"Editar Categoria"},categoriaRules(){return Z},sharedRules(){return R}},data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,categorias:[],editedIndex:-1,editedItem:{id:0,nome:""},defaultItem:{id:0,nome:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},mounted(){this.loadCategorias()},methods:{async loadCategorias(){this.loading=!0;try{this.categorias=await T.getAll()}catch{this.showError("Erro ao carregar categorias")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(a){this.editedIndex=this.categorias.indexOf(a),this.editedItem={...a},this.dialog=!0},deleteItem(a){this.editedIndex=this.categorias.indexOf(a),this.editedItem={...a},this.deleteDialog=!0},async deleteItemConfirm(){try{await T.delete(this.editedItem.id),this.categorias.splice(this.editedIndex,1),this.showSuccess("Categoria excluída com sucesso!")}catch{this.showError("Erro ao excluir categoria")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const a=await T.update(this.editedItem.id,this.editedItem);this.categorias[this.editedIndex]=a,this.showSuccess("Categoria atualizada com sucesso!")}else{const a=await T.create(this.editedItem);this.categorias.push(a),this.showSuccess("Categoria criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar categoria")}}}},_e={class:"categorias"},be={class:"text-h5"};function we(a,e,p,V,o,i){return y(),D("div",_e,[l(f,null,{default:t(()=>[l(m,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[6]||(e[6]=h("span",{class:"text-h6"},"Gerenciar Categorias",-1)),l(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>i.openDialog())},{default:t(()=>[...e[5]||(e[5]=[s(" Nova Categoria ",-1)])]),_:1})]),_:1}),l(c,null,{default:t(()=>[l(E,{headers:o.headers,items:o.categorias,loading:o.loading,class:"elevation-1"},{"item.actions":t(({item:d})=>[l(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>i.editItem(d)},null,8,["onClick"]),l(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:r=>i.deleteItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),l(v,{modelValue:o.dialog,"onUpdate:modelValue":e[3]||(e[3]=d=>o.dialog=d),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,null,{default:t(()=>[h("span",be,g(i.formTitle),1)]),_:1}),l(c,null,{default:t(()=>[l(U,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[2]||(e[2]=d=>o.validForm=d)},{default:t(()=>[l(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.nome=d),label:"Nome da Categoria",rules:[i.sharedRules.required,i.sharedRules.minLength(2),i.sharedRules.maxLength(100),i.categoriaRules.nome],counter:"100",required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDialog},{default:t(()=>[...e[7]||(e[7]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:i.save},{default:t(()=>[...e[8]||(e[8]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[4]||(e[4]=d=>o.deleteDialog=d),"max-width":"500px"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,{class:"text-h5"},{default:t(()=>[...e[9]||(e[9]=[s("Confirmar Exclusão",-1)])]),_:1}),l(c,null,{default:t(()=>[s(' Tem certeza que deseja excluir a categoria "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),l(I,null,{default:t(()=>[l(x),l(n,{color:"grey",variant:"text",onClick:i.closeDeleteDialog},{default:t(()=>[...e[10]||(e[10]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),l(n,{color:"error",variant:"text",onClick:i.deleteItemConfirm},{default:t(()=>[...e[11]||(e[11]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Q=k(ye,[["render",we]]),Re={name:"ConfiguracoesPage",components:{Categorias:Q,Depositos:K,Fornecedores:B,Localizacoes:G,Marcas:W,UnidadesMedida:J},data(){return{tab:"categorias"}}},Ee={class:"configuracoes-page"};function Ue(a,e,p,V,o,i){const d=Q,r=W,z=J,H=B,X=G,Y=K;return y(),D("div",Ee,[l(le,{fluid:""},{default:t(()=>[l($,null,{default:t(()=>[l(ee,{cols:"12"},{default:t(()=>[l(f,null,{default:t(()=>[l(m,{class:"d-flex align-center"},{default:t(()=>[l(C,{class:"mr-3",color:"primary"},{default:t(()=>[...e[2]||(e[2]=[s("mdi-cog",-1)])]),_:1}),e[3]||(e[3]=h("span",{class:"text-h5"},"Configurações do Sistema",-1))]),_:1}),l(c,null,{default:t(()=>[l(te,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=N=>o.tab=N),"align-tabs":"start",class:"mb-4",color:"primary"},{default:t(()=>[l(_,{value:"categorias"},{default:t(()=>[l(C,{class:"mr-2"},{default:t(()=>[...e[4]||(e[4]=[s("mdi-tag-multiple",-1)])]),_:1}),e[5]||(e[5]=s(" Categorias ",-1))]),_:1}),l(_,{value:"marcas"},{default:t(()=>[l(C,{class:"mr-2"},{default:t(()=>[...e[6]||(e[6]=[s("mdi-tag",-1)])]),_:1}),e[7]||(e[7]=s(" Marcas ",-1))]),_:1}),l(_,{value:"unidades"},{default:t(()=>[l(C,{class:"mr-2"},{default:t(()=>[...e[8]||(e[8]=[s("mdi-scale-balance",-1)])]),_:1}),e[9]||(e[9]=s(" Unidades de Medida ",-1))]),_:1}),l(_,{value:"fornecedores"},{default:t(()=>[l(C,{class:"mr-2"},{default:t(()=>[...e[10]||(e[10]=[s("mdi-truck-delivery",-1)])]),_:1}),e[11]||(e[11]=s(" Fornecedores ",-1))]),_:1}),l(_,{value:"localizacoes"},{default:t(()=>[l(C,{class:"mr-2"},{default:t(()=>[...e[12]||(e[12]=[s("mdi-map-marker",-1)])]),_:1}),e[13]||(e[13]=s(" Localizações ",-1))]),_:1}),l(_,{value:"depositos"},{default:t(()=>[l(C,{class:"mr-2"},{default:t(()=>[...e[14]||(e[14]=[s("mdi-warehouse",-1)])]),_:1}),e[15]||(e[15]=s(" Depósitos ",-1))]),_:1})]),_:1},8,["modelValue"]),l(ie,{modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=N=>o.tab=N)},{default:t(()=>[l(b,{value:"categorias"},{default:t(()=>[l(d)]),_:1}),l(b,{value:"marcas"},{default:t(()=>[l(r)]),_:1}),l(b,{value:"unidades"},{default:t(()=>[l(z)]),_:1}),l(b,{value:"fornecedores"},{default:t(()=>[l(H)]),_:1}),l(b,{value:"localizacoes"},{default:t(()=>[l(X)]),_:1}),l(b,{value:"depositos"},{default:t(()=>[l(Y)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Xe=k(Re,[["render",Ue],["__scopeId","data-v-6f10161c"]]);export{Xe as default};
