import{U as a}from"./index-2CK1TBd1.js";const r=o=>({id:o.id,id_deposito:o.deposito?.id??0,corredor:o.corredor??"",prateleira:o.prateleira??"",secao:o.secao??""}),d=o=>{if(!o)return;const i=[o.logradouro,o.numero,o.complemento].filter(Boolean);return i.length>0?i.join(", "):void 0};class l{endpoint="/locais";async fetchAll(){const{data:i}=await a.get(this.endpoint);return i}async getAll(){return(await this.fetchAll()).map(r)}async getAllComplete(i){const e=await this.fetchAll();return(i?e.filter(n=>n.deposito?.endereco?.municipio?.uf?.id===i):e).map(n=>{const s=r(n),c=n.deposito?.endereco,p=[n.deposito?.nome,n.corredor,n.prateleira,n.secao].filter(Boolean).join(" - ");return{...s,deposito_nome:n.deposito?.nome,deposito_id:n.deposito?.id,endereco_completo:d(c),endereco_cep:c?.cep,endereco_id:c?.id,municipio_nome:c?.municipio?.nome,municipio_bairro:c?.municipio?.bairro??void 0,municipio_id:c?.municipio?.id,uf_sigla:c?.municipio?.uf?.sigla,uf_nome:c?.municipio?.uf?.nome,uf_id:c?.municipio?.uf?.id,localizacao_completa:p||void 0}})}async getById(i){const{data:e}=await a.get(`${this.endpoint}/${i}`);return r(e)}async getByDeposit(i){return(await this.getAll()).filter(t=>t.id_deposito===i)}async create(i){const e={corredor:i.corredor,prateleira:i.prateleira,secao:i.secao,id_deposito:i.id_deposito,ativo:!0},{data:t}=await a.post(this.endpoint,e);return r(t)}async update(i,e){const t={corredor:e.corredor,prateleira:e.prateleira,secao:e.secao,id_deposito:e.id_deposito},{data:n}=await a.patch(`${this.endpoint}/${i}`,t);return r(n)}async delete(i){await a.delete(`${this.endpoint}/${i}`)}}class m{endpoint="/depositos";async fetchAll(){const{data:i}=await a.get(this.endpoint);return i}async getAll(){return(await this.fetchAll()).map(e=>({id:e.id,nome:e.nome,id_endereco:e.endereco?.id??0}))}async getAllEnriched(){return(await this.fetchAll()).map(e=>({id:e.id,nome:e.nome,id_endereco:e.endereco?.id??0,endereco_completo:d(e.endereco),endereco_cep:e.endereco?.cep,municipio_nome:e.endereco?.municipio?.nome,municipio_bairro:e.endereco?.municipio?.bairro??void 0,uf_sigla:e.endereco?.municipio?.uf?.sigla,uf_nome:e.endereco?.municipio?.uf?.nome}))}async getById(i){const{data:e}=await a.get(`${this.endpoint}/${i}`);return{id:e.id,nome:e.nome,id_endereco:e.endereco?.id??0}}async create(i){const{data:e}=await a.post(this.endpoint,{nome:i.nome,id_endereco:i.id_endereco,ativo:!0});return{id:e.id,nome:e.nome,id_endereco:e.endereco?.id??i.id_endereco}}async update(i,e){const{data:t}=await a.patch(`${this.endpoint}/${i}`,{nome:e.nome,id_endereco:e.id_endereco});return{id:t.id,nome:t.nome,id_endereco:t.endereco?.id??e.id_endereco??0}}async delete(i){await a.delete(`${this.endpoint}/${i}`)}}const _=new l,h=new m;export{h as D,_ as L};
