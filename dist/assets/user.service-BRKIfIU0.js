import{U as n}from"./index-2CK1TBd1.js";const c=t=>({id:t.id,nome:t.nome,valor:t.valor??"",tipo_contato:t.tipo_contato??"outro",codigo_pais:t.codigo_pais??null,data_criacao:t.dataCriacao??new Date().toISOString()}),d=t=>({id:t.id,nome:t.nome,email:t.email,id_contato:t.contato?.id??null,role:t.role,id_uf:t.idUf??null,ativo:t.ativo,contato:t.contato?c(t.contato):void 0});class l{endpoint="/usuarios";async getAll(){const{data:o}=await n.get(this.endpoint);return o.map(d)}async getById(o){const{data:i}=await n.get(`${this.endpoint}/${o}`);return d(i)}async create(o){const i={nome:o.nome,email:o.email,senha:o.senha,id_contato:o.id_contato??void 0,role:o.role??"relatorios",id_uf:o.id_uf??void 0,ativo:o.ativo??!0},{data:a}=await n.post(this.endpoint,i);return d(a)}async update(o,i){const a={nome:i.nome,email:i.email,senha:i.senha,id_contato:i.id_contato,role:i.role,id_uf:i.id_uf,ativo:i.ativo},{data:e}=await n.patch(`${this.endpoint}/${o}`,a);return d(e)}async delete(o){await n.delete(`${this.endpoint}/${o}`)}async emailExists(o,i){return(await this.getAll()).some(e=>e.email===o&&e.id!==i)}}const m=new l;export{m as U};
