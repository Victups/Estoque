import{_ as y,c,o as p,w as o,a as s,b as l,e as a,g as b,h as w,t as h,f as k}from"./index-2CK1TBd1.js";import{U as g}from"./user.service-BRKIfIU0.js";import{c as C}from"./user-BUxJCsVN.js";import{V as u,a as d,d as n,b as R,e as T,f as E}from"./VCard-C0Nnn3PC.js";import{V as P}from"./VForm-B5T0w2Cq.js";import{V as f,c as V,a as v}from"./VTextField-Dl59xlA2.js";import{V as x}from"./VAlert-B24Zed_l.js";import{V as z}from"./VSelect-BDnerYRz.js";import{V as S}from"./VCheckbox-CZ8kdPZl.js";import{V as U}from"./VSnackbar-Dyx3aGnx.js";import"./tag-ClhzHHXz.js";import"./ssrBoot-DL-QNHNL.js";import"./VMenu-CzW1lCu_.js";import"./VChip-ijcJUYKv.js";const _={name:"RegistrerPage",data(){return{formRef:null,valid:!1,name:"",email:"",password:"",passwordConfirm:"",role:"",acceptTerms:!1,showPassword:!1,showPasswordConfirm:!1,loading:!1,error:null,snackbar:!1,snackbarText:"",snackbarColor:"success"}},computed:{nameRules(){return[t=>!!t||"Nome é obrigatório",t=>t.trim().length>=3||"Informe pelo menos 3 caracteres"]},emailRules(){return[t=>!!t||"E-mail é obrigatório",t=>/.+@.+\..+/.test(t)||"E-mail deve ser válido"]},passwordRules(){return[t=>!!t||"Senha é obrigatória",t=>t.length>=6||"Senha deve ter pelo menos 6 caracteres"]},passwordConfirmRules(){return[t=>!!t||"Confirmação é obrigatória",t=>t===this.password||"As senhas não conferem"]},roleRules(){return[t=>!!t||"Função é obrigatória"]},termsRules(){return[t=>t||"Você deve aceitar os termos e condições"]}},methods:{async handleRegister(){if(!this.formRef)return;const{valid:t}=await this.formRef.validate();if(t){this.loading=!0,this.error=null;try{if(await g.emailExists(this.email)){this.error="Este e-mail já está cadastrado",this.loading=!1;return}await g.create({nome:this.name,email:this.email,senha:this.password,role:C(this.role||"Visualizador"),ativo:!0}),this.snackbarText="Conta criada com sucesso!",this.snackbarColor="success",this.snackbar=!0,this.name="",this.email="",this.password="",this.passwordConfirm="",this.role="",this.acceptTerms=!1,this.formRef.reset(),setTimeout(()=>{this.$router.push("/login")},2e3)}catch(e){console.error("Erro ao cadastrar:",e),this.error="Erro ao cadastrar usuário. Tente novamente.",this.snackbarText="Erro ao cadastrar usuário",this.snackbarColor="error",this.snackbar=!0}finally{this.loading=!1}}},goToLogin(){this.$router.push("/login")}}},I={class:"branding-section"},q={class:"branding-content"},B={class:"feature-item"},N={class:"feature-item"},A={class:"feature-item"},F={class:"register-form-wrapper"},j={class:"text-center mb-6"},D={class:"mb-4"},G={class:"text-h6 font-weight-bold mb-3"},L={class:"mb-4"},J={class:"text-h6 font-weight-bold mb-3"},M={class:"mb-4"},O={class:"text-h6 font-weight-bold mb-3"},H={class:"text-body-2"},K={class:"text-center"},Q={class:"d-flex align-center"},W={class:"font-weight-bold"},X={key:0,class:"text-caption"};function Y(t,e,Z,$,r,m){return p(),c(E,{class:"fill-height pa-0",fluid:""},{default:o(()=>[s(u,{class:"fill-height","no-gutters":""},{default:o(()=>[s(d,{class:"d-none d-lg-flex",cols:"12",lg:"5"},{default:o(()=>[l("div",I,[l("div",q,[s(n,{class:"mb-6",color:"white",size:"120"},{default:o(()=>[...e[12]||(e[12]=[a(" mdi-warehouse ",-1)])]),_:1}),e[19]||(e[19]=l("h1",{class:"text-h2 font-weight-bold text-white mb-4"}," Sistema de Estoque ",-1)),e[20]||(e[20]=l("p",{class:"text-h5 text-white opacity-90 mb-8"}," Gerencie seu estoque com eficiência e praticidade ",-1)),s(u,{class:"mt-8"},{default:o(()=>[s(d,{cols:"12"},{default:o(()=>[l("div",B,[s(n,{color:"white",size:"30"},{default:o(()=>[...e[13]||(e[13]=[a("mdi-check-circle",-1)])]),_:1}),e[14]||(e[14]=l("span",{class:"text-h6 text-white ml-3"},"Controle total de produtos",-1))])]),_:1}),s(d,{cols:"12"},{default:o(()=>[l("div",N,[s(n,{color:"white",size:"30"},{default:o(()=>[...e[15]||(e[15]=[a("mdi-chart-line",-1)])]),_:1}),e[16]||(e[16]=l("span",{class:"text-h6 text-white ml-3"},"Relatórios detalhados",-1))])]),_:1}),s(d,{cols:"12"},{default:o(()=>[l("div",A,[s(n,{color:"white",size:"30"},{default:o(()=>[...e[17]||(e[17]=[a("mdi-shield-check",-1)])]),_:1}),e[18]||(e[18]=l("span",{class:"text-h6 text-white ml-3"},"Segurança garantida",-1))])]),_:1})]),_:1})])])]),_:1}),s(d,{class:"d-flex align-center justify-center",cols:"12",lg:"7"},{default:o(()=>[l("div",F,[s(R,{class:"pa-8 elevation-12","max-width":"600",width:"100%"},{default:o(()=>[l("div",j,[s(T,{class:"mb-4",color:"primary",size:"80"},{default:o(()=>[s(n,{color:"white",size:"50"},{default:o(()=>[...e[21]||(e[21]=[a("mdi-account-plus",-1)])]),_:1})]),_:1}),e[22]||(e[22]=l("h2",{class:"text-h3 font-weight-bold mb-2"}," Criar Conta ",-1)),e[23]||(e[23]=l("p",{class:"text-body-1 text-grey"}," Preencha os dados abaixo para se cadastrar ",-1))]),s(P,{ref:"formRef",modelValue:r.valid,"onUpdate:modelValue":e[10]||(e[10]=i=>r.valid=i),onSubmit:b(m.handleRegister,["prevent"])},{default:o(()=>[l("div",D,[l("h3",G,[s(n,{class:"mr-2"},{default:o(()=>[...e[24]||(e[24]=[a("mdi-account-circle",-1)])]),_:1}),e[25]||(e[25]=a(" Informações Pessoais ",-1))]),s(u,null,{default:o(()=>[s(d,{cols:"12"},{default:o(()=>[s(f,{modelValue:r.name,"onUpdate:modelValue":e[0]||(e[0]=i=>r.name=i),color:"primary",density:"comfortable","hide-details":"auto",label:"Nome completo","prepend-inner-icon":"mdi-account",required:"",rules:m.nameRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),s(d,{cols:"12"},{default:o(()=>[s(f,{modelValue:r.email,"onUpdate:modelValue":e[1]||(e[1]=i=>r.email=i),color:"primary",density:"comfortable","hide-details":"auto",label:"E-mail","prepend-inner-icon":"mdi-email",required:"",rules:m.emailRules,type:"email",variant:"outlined"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),s(V,{class:"my-6"}),l("div",L,[l("h3",J,[s(n,{class:"mr-2"},{default:o(()=>[...e[26]||(e[26]=[a("mdi-shield-lock",-1)])]),_:1}),e[27]||(e[27]=a(" Informações de Acesso ",-1))]),s(u,null,{default:o(()=>[s(d,{cols:"12",md:"6"},{default:o(()=>[s(f,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=i=>r.password=i),"append-inner-icon":r.showPassword?"mdi-eye":"mdi-eye-off",color:"primary",density:"comfortable","hide-details":"auto",label:"Senha","prepend-inner-icon":"mdi-lock",required:"",rules:m.passwordRules,type:r.showPassword?"text":"password",variant:"outlined","onClick:appendInner":e[3]||(e[3]=i=>r.showPassword=!r.showPassword)},null,8,["modelValue","append-inner-icon","rules","type"])]),_:1}),s(d,{cols:"12",md:"6"},{default:o(()=>[s(f,{modelValue:r.passwordConfirm,"onUpdate:modelValue":e[4]||(e[4]=i=>r.passwordConfirm=i),"append-inner-icon":r.showPasswordConfirm?"mdi-eye":"mdi-eye-off",color:"primary",density:"comfortable","hide-details":"auto",label:"Confirmar senha","prepend-inner-icon":"mdi-lock-check",required:"",rules:m.passwordConfirmRules,type:r.showPasswordConfirm?"text":"password",variant:"outlined","onClick:appendInner":e[5]||(e[5]=i=>r.showPasswordConfirm=!r.showPasswordConfirm)},null,8,["modelValue","append-inner-icon","rules","type"])]),_:1})]),_:1}),s(x,{class:"mt-3",color:"info",icon:"mdi-information",variant:"tonal"},{default:o(()=>[...e[28]||(e[28]=[a(" A senha deve ter no mínimo 6 caracteres ",-1)])]),_:1})]),s(V,{class:"my-6"}),l("div",M,[l("h3",O,[s(n,{class:"mr-2"},{default:o(()=>[...e[29]||(e[29]=[a("mdi-briefcase",-1)])]),_:1}),e[30]||(e[30]=a(" Informações Profissionais ",-1))]),s(u,null,{default:o(()=>[s(d,{cols:"12",md:"6"},{default:o(()=>[s(z,{modelValue:r.role,"onUpdate:modelValue":e[6]||(e[6]=i=>r.role=i),color:"primary",density:"comfortable","hide-details":"auto",items:["Operador","Visualizador","Gerente"],label:"Função","prepend-inner-icon":"mdi-shield-account",required:"",rules:m.roleRules,variant:"outlined"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),r.error?(p(),c(x,{key:0,class:"mb-4",closable:"",type:"error",variant:"tonal","onClick:close":e[7]||(e[7]=i=>r.error=null)},{default:o(()=>[a(h(r.error),1)]),_:1})):w("",!0),s(S,{modelValue:r.acceptTerms,"onUpdate:modelValue":e[9]||(e[9]=i=>r.acceptTerms=i),color:"primary","hide-details":"auto",rules:m.termsRules},{label:o(()=>[l("span",H,[e[31]||(e[31]=a(" Eu aceito os ",-1)),l("a",{class:"text-primary",href:"#",onClick:e[8]||(e[8]=b(()=>{},["prevent"]))},"termos e condições")])]),_:1},8,["modelValue","rules"]),s(v,{block:"",class:"mt-6 mb-4",color:"primary",disabled:!r.valid,loading:r.loading,size:"x-large",type:"submit"},{default:o(()=>[s(n,{class:"mr-2"},{default:o(()=>[...e[32]||(e[32]=[a("mdi-account-plus",-1)])]),_:1}),e[33]||(e[33]=a(" Criar Conta ",-1))]),_:1},8,["disabled","loading"]),l("div",K,[e[36]||(e[36]=l("span",{class:"text-body-2"},"Já tem uma conta?",-1)),s(v,{color:"primary",size:"small",variant:"text",onClick:m.goToLogin},{default:o(()=>[e[35]||(e[35]=a(" Entrar agora ",-1)),s(n,{class:"ml-1",size:"small"},{default:o(()=>[...e[34]||(e[34]=[a("mdi-arrow-right",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:1},8,["modelValue","onSubmit"])]),_:1})])]),_:1})]),_:1}),s(U,{modelValue:r.snackbar,"onUpdate:modelValue":e[11]||(e[11]=i=>r.snackbar=i),color:r.snackbarColor,elevation:"8",location:"top right",timeout:4e3},{default:o(()=>[l("div",Q,[s(n,{class:"mr-2",icon:r.snackbarColor==="success"?"mdi-check-circle":"mdi-alert-circle",size:"large"},null,8,["icon"]),l("div",null,[l("div",W,h(r.snackbarText),1),r.snackbarColor==="success"?(p(),k("div",X," Redirecionando para o login... ")):w("",!0)])])]),_:1},8,["modelValue","color"])]),_:1})}const ce=y(_,[["render",Y],["__scopeId","data-v-387d04ab"]]);export{ce as default};
