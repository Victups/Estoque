import"./uf.service-Bn8JpA_W.js";import{D as L,L as S,U as M,B as T,C as q}from"./product.service-DE7QUhp7.js";import{v as U,s as E}from"./validation-DSMrrFCg.js";import{_ as D,aa as A,e as k,o as y,a as t,w as i,b as p,d as s,t as g,G as O}from"./index-Cgq_6uxJ.js";import{f as m,c,b as f,o as h,V as Z,a as $,d as V,k as ee}from"./VList-EL7smbZR.js";import{a as n,V as u}from"./VTextField-DW8nCNV5.js";import{V as _}from"./VDataTable-BwrgDJdF.js";import{V as z}from"./VForm-DePCEDBA.js";import{V as I}from"./VSpacer-BOurC99C.js";import{V as C}from"./VDialog-D0noMbjk.js";import{V as P}from"./VChip-BwqJumVp.js";import{V as j}from"./VSelect-DdUCyK7X.js";import{S as R}from"./supplier.service-D8RTGJYr.js";import{V as te,a as b,b as le,c as w}from"./VTabs-U513DvUr.js";import"./tag-BQQzLX6E.js";import"./filter-CQcYvJU3.js";import"./VMenu-C4chORbR.js";const ie={name:"DepositosCRUD",mixins:[U,E],data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,depositos:[],editedIndex:-1,editedItem:{id:0,nome:"",endereco_logradouro:"",endereco_numero:"",endereco_complemento:"",endereco_cep:"",endereco_bairro:"",endereco_municipio:"",endereco_uf:""},defaultItem:{id:0,nome:"",endereco_logradouro:"",endereco_numero:"",endereco_complemento:"",endereco_cep:"",endereco_bairro:"",endereco_municipio:"",endereco_uf:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"Endereço",key:"endereco_logradouro",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},computed:{formTitle(){return this.editedIndex===-1?"Novo Depósito":"Editar Depósito"}},mounted(){this.loadDepositos()},methods:{async loadDepositos(){this.loading=!0;try{this.depositos=await L.getAll()}catch{this.showError("Erro ao carregar depósitos")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(l){this.editedIndex=this.depositos.indexOf(l),this.editedItem={...l},this.dialog=!0},deleteItem(l){this.editedIndex=this.depositos.indexOf(l),this.editedItem={...l},this.deleteDialog=!0},async deleteItemConfirm(){try{await L.delete(this.editedItem.id),this.depositos.splice(this.editedIndex,1),this.showSuccess("Depósito excluído com sucesso!")}catch{this.showError("Erro ao excluir depósito")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},onCEPKeypress(l){const e=String.fromCodePoint(l.which);/[0-9]/.test(e)||l.preventDefault()},async save(){if(this.validForm)try{if(this.editedIndex>-1){const l=await L.update(this.editedItem.id,this.editedItem);this.depositos[this.editedIndex]=l,this.showSuccess("Depósito atualizado com sucesso!")}else{const l=await L.create(this.editedItem);this.depositos.push(l),this.showSuccess("Depósito criado com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar depósito")}}}},oe={class:"depositos-crud"},ae={class:"text-h5"};function de(l,e,v,x,o,a){const d=A("mask");return y(),k("div",oe,[t(f,null,{default:i(()=>[t(m,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[13]||(e[13]=p("span",{class:"text-h6"},"Gerenciar Depósitos",-1)),t(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>a.openDialog())},{default:i(()=>[...e[12]||(e[12]=[s(" Novo Depósito ",-1)])]),_:1})]),_:1}),t(c,null,{default:i(()=>[t(_,{headers:o.headers,items:o.depositos,loading:o.loading,class:"elevation-1"},{"item.actions":i(({item:r})=>[t(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:F=>a.editItem(r)},null,8,["onClick"]),t(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:F=>a.deleteItem(r)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),t(C,{modelValue:o.dialog,"onUpdate:modelValue":e[10]||(e[10]=r=>o.dialog=r),"max-width":"600px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,null,{default:i(()=>[p("span",ae,g(a.formTitle),1)]),_:1}),t(c,null,{default:i(()=>[t(z,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[9]||(e[9]=r=>o.validForm=r)},{default:i(()=>[t(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=r=>o.editedItem.nome=r),label:"Nome do Depósito",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(100),l.validation.alfanumerico],counter:"100",required:""},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.endereco_logradouro,"onUpdate:modelValue":e[2]||(e[2]=r=>o.editedItem.endereco_logradouro=r),label:"Logradouro",rules:[l.validation.required,l.validation.minLength(5),l.validation.maxLength(100),l.validation.alfanumerico],counter:"100",required:""},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.endereco_numero,"onUpdate:modelValue":e[3]||(e[3]=r=>o.editedItem.endereco_numero=r),label:"Número",rules:[l.validation.required,l.validation.maxLength(20),l.validation.alfanumerico],counter:"20",required:""},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.endereco_complemento,"onUpdate:modelValue":e[4]||(e[4]=r=>o.editedItem.endereco_complemento=r),label:"Complemento",rules:[l.validation.maxLength(255)],counter:"255"},null,8,["modelValue","rules"]),O(t(u,{modelValue:o.editedItem.endereco_cep,"onUpdate:modelValue":e[5]||(e[5]=r=>o.editedItem.endereco_cep=r),label:"CEP",rules:[l.validation.required,l.validation.cep],onKeypress:a.onCEPKeypress,required:""},null,8,["modelValue","rules","onKeypress"]),[[d,"#####-###"]]),t(u,{modelValue:o.editedItem.endereco_bairro,"onUpdate:modelValue":e[6]||(e[6]=r=>o.editedItem.endereco_bairro=r),label:"Bairro",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(150),l.validation.alfanumerico],counter:"150",required:""},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.endereco_municipio,"onUpdate:modelValue":e[7]||(e[7]=r=>o.editedItem.endereco_municipio=r),label:"Município",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(150),l.validation.nome],counter:"150",required:""},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.endereco_uf,"onUpdate:modelValue":e[8]||(e[8]=r=>o.editedItem.endereco_uf=r),label:"UF",rules:[l.validation.required,l.validation.uf],maxlength:"2",counter:"2",required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDialog},{default:i(()=>[...e[14]||(e[14]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:a.save},{default:i(()=>[...e[15]||(e[15]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[11]||(e[11]=r=>o.deleteDialog=r),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,{class:"text-h5"},{default:i(()=>[...e[16]||(e[16]=[s("Confirmar Exclusão",-1)])]),_:1}),t(c,null,{default:i(()=>[s(' Tem certeza que deseja excluir o depósito "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDeleteDialog},{default:i(()=>[...e[17]||(e[17]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"error",variant:"text",onClick:a.deleteItemConfirm},{default:i(()=>[...e[18]||(e[18]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const K=D(ie,[["render",de]]),re={name:"LocalizacoesCRUD",mixins:[U,E],data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,localizacoes:[],depositos:[],editedIndex:-1,editedItem:{id:0,id_deposito:0,corredor:"",prateleira:"",secao:""},defaultItem:{id:0,id_deposito:0,corredor:"",prateleira:"",secao:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Depósito",key:"deposito_nome",sortable:!0},{title:"Corredor",key:"corredor",sortable:!0},{title:"Prateleira",key:"prateleira",sortable:!0},{title:"Seção",key:"secao",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},computed:{formTitle(){return this.editedIndex===-1?"Nova Localização":"Editar Localização"}},mounted(){this.loadData()},methods:{async loadData(){this.loading=!0;try{const[l,e]=await Promise.all([S.getAll(),L.getAll()]);this.localizacoes=l,this.depositos=e}catch{this.showError("Erro ao carregar dados")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(l){this.editedIndex=this.localizacoes.indexOf(l),this.editedItem={...l},this.dialog=!0},deleteItem(l){this.editedIndex=this.localizacoes.indexOf(l),this.editedItem={...l},this.deleteDialog=!0},async deleteItemConfirm(){try{await S.delete(this.editedItem.id),this.localizacoes.splice(this.editedIndex,1),this.showSuccess("Localização excluída com sucesso!")}catch{this.showError("Erro ao excluir localização")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const l=await S.update(this.editedItem.id,this.editedItem);this.localizacoes[this.editedIndex]=l,this.showSuccess("Localização atualizada com sucesso!")}else{const l=await S.create(this.editedItem);this.localizacoes.push(l),this.showSuccess("Localização criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar localização")}}}},se={class:"localizacoes-crud"},ne={class:"text-h5"};function ue(l,e,v,x,o,a){return y(),k("div",se,[t(f,null,{default:i(()=>[t(m,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[9]||(e[9]=p("span",{class:"text-h6"},"Gerenciar Localizações",-1)),t(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>a.openDialog())},{default:i(()=>[...e[8]||(e[8]=[s(" Nova Localização ",-1)])]),_:1})]),_:1}),t(c,null,{default:i(()=>[t(_,{headers:o.headers,items:o.localizacoes,loading:o.loading,class:"elevation-1"},{"item.deposito_nome":i(({item:d})=>[t(P,{color:"info",variant:"outlined"},{default:i(()=>[s(g(d.deposito_nome),1)]),_:2},1024)]),"item.actions":i(({item:d})=>[t(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>a.editItem(d)},null,8,["onClick"]),t(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:r=>a.deleteItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),t(C,{modelValue:o.dialog,"onUpdate:modelValue":e[6]||(e[6]=d=>o.dialog=d),"max-width":"600px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,null,{default:i(()=>[p("span",ne,g(a.formTitle),1)]),_:1}),t(c,null,{default:i(()=>[t(z,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[5]||(e[5]=d=>o.validForm=d)},{default:i(()=>[t(j,{modelValue:o.editedItem.id_deposito,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.id_deposito=d),items:o.depositos,"item-title":"nome","item-value":"id",label:"Depósito",rules:[l.validation.required],required:""},null,8,["modelValue","items","rules"]),t(u,{modelValue:o.editedItem.corredor,"onUpdate:modelValue":e[2]||(e[2]=d=>o.editedItem.corredor=d),label:"Corredor",rules:[l.validation.maxLength(50),l.validation.alfanumerico],counter:"50"},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.prateleira,"onUpdate:modelValue":e[3]||(e[3]=d=>o.editedItem.prateleira=d),label:"Prateleira",rules:[l.validation.maxLength(50),l.validation.alfanumerico],counter:"50"},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.secao,"onUpdate:modelValue":e[4]||(e[4]=d=>o.editedItem.secao=d),label:"Seção",rules:[l.validation.maxLength(50),l.validation.alfanumerico],counter:"50"},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDialog},{default:i(()=>[...e[10]||(e[10]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:a.save},{default:i(()=>[...e[11]||(e[11]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[7]||(e[7]=d=>o.deleteDialog=d),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,{class:"text-h5"},{default:i(()=>[...e[12]||(e[12]=[s("Confirmar Exclusão",-1)])]),_:1}),t(c,null,{default:i(()=>[...e[13]||(e[13]=[s(" Tem certeza que deseja excluir esta localização? ",-1)])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDeleteDialog},{default:i(()=>[...e[14]||(e[14]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"error",variant:"text",onClick:a.deleteItemConfirm},{default:i(()=>[...e[15]||(e[15]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const G=D(re,[["render",ue]]),me={name:"FornecedoresCRUD",mixins:[U,E],data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,fornecedores:[],editedIndex:-1,editedItem:{id:0,nome:"",cnpj:"",contato_nome:"",contato_valor:"",contato_tipo:"telefone"},defaultItem:{id:0,nome:"",cnpj:"",contato_nome:"",contato_valor:"",contato_tipo:"telefone"},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"CNPJ",key:"cnpj",sortable:!0},{title:"Contato",key:"contato_nome",sortable:!0},{title:"Ações",key:"actions",sortable:!1}],tipoContatoOptions:[{title:"Telefone",value:"telefone"},{title:"Email",value:"email"},{title:"WhatsApp",value:"whatsapp"},{title:"Instagram",value:"instagram"},{title:"Telegram",value:"telegram"},{title:"Outro",value:"outro"}]}},computed:{formTitle(){return this.editedIndex===-1?"Novo Fornecedor":"Editar Fornecedor"}},mounted(){this.loadFornecedores()},methods:{async loadFornecedores(){this.loading=!0;try{this.fornecedores=await R.getAll()}catch{this.showError("Erro ao carregar fornecedores")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(l){this.editedIndex=this.fornecedores.indexOf(l),this.editedItem={...l},this.dialog=!0},deleteItem(l){this.editedIndex=this.fornecedores.indexOf(l),this.editedItem={...l},this.deleteDialog=!0},async deleteItemConfirm(){try{await R.delete(this.editedItem.id),this.fornecedores.splice(this.editedIndex,1),this.showSuccess("Fornecedor excluído com sucesso!")}catch{this.showError("Erro ao excluir fornecedor")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},getContactMask(l){switch(l){case"telefone":case"whatsapp":return"(##) #####-####";case"email":return"";case"instagram":case"telegram":return"";default:return""}},formatContactValue(l){const v=l.target.value,x=this.editedItem.contato_tipo;if(x==="telefone"||x==="whatsapp"){const a=v.replace(/\D/g,"").slice(0,11);a.length<=2?this.editedItem.contato_valor=a:a.length<=6?this.editedItem.contato_valor=`(${a.slice(0,2)}) ${a.slice(2)}`:a.length<=10?this.editedItem.contato_valor=`(${a.slice(0,2)}) ${a.slice(2,6)}-${a.slice(6)}`:this.editedItem.contato_valor=`(${a.slice(0,2)}) ${a.slice(2,7)}-${a.slice(7)}`}else this.editedItem.contato_valor=v.slice(0,100)},onContactKeypress(l){const e=this.editedItem.contato_tipo;if(e==="telefone"||e==="whatsapp"){const v=String.fromCodePoint(l.which);/[0-9]/.test(v)||l.preventDefault()}},onCNPJKeypress(l){const e=String.fromCodePoint(l.which);/[0-9]/.test(e)||l.preventDefault()},async save(){if(this.validForm)try{if(this.editedIndex>-1){const l=await R.update(this.editedItem.id,this.editedItem);this.fornecedores[this.editedIndex]=l,this.showSuccess("Fornecedor atualizado com sucesso!")}else{const l=await R.create(this.editedItem);this.fornecedores.push(l),this.showSuccess("Fornecedor criado com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar fornecedor")}}}},ce={class:"fornecedores-crud"},fe={class:"text-h5"};function pe(l,e,v,x,o,a){const d=A("mask");return y(),k("div",ce,[t(f,null,{default:i(()=>[t(m,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[10]||(e[10]=p("span",{class:"text-h6"},"Gerenciar Fornecedores",-1)),t(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=r=>a.openDialog())},{default:i(()=>[...e[9]||(e[9]=[s(" Novo Fornecedor ",-1)])]),_:1})]),_:1}),t(c,null,{default:i(()=>[t(_,{headers:o.headers,items:o.fornecedores,loading:o.loading,class:"elevation-1"},{"item.actions":i(({item:r})=>[t(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:F=>a.editItem(r)},null,8,["onClick"]),t(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:F=>a.deleteItem(r)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),t(C,{modelValue:o.dialog,"onUpdate:modelValue":e[7]||(e[7]=r=>o.dialog=r),"max-width":"600px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,null,{default:i(()=>[p("span",fe,g(a.formTitle),1)]),_:1}),t(c,null,{default:i(()=>[t(z,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[6]||(e[6]=r=>o.validForm=r)},{default:i(()=>[t(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=r=>o.editedItem.nome=r),label:"Nome do Fornecedor",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(150),l.validation.nome],counter:"150",required:""},null,8,["modelValue","rules"]),O(t(u,{modelValue:o.editedItem.cnpj,"onUpdate:modelValue":e[2]||(e[2]=r=>o.editedItem.cnpj=r),label:"CNPJ",rules:[l.validation.cnpj],onKeypress:a.onCNPJKeypress},null,8,["modelValue","rules","onKeypress"]),[[d,"##.###.###/####-##"]]),t(u,{modelValue:o.editedItem.contato_nome,"onUpdate:modelValue":e[3]||(e[3]=r=>o.editedItem.contato_nome=r),label:"Nome do Contato",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(255),l.validation.nome],counter:"255",required:""},null,8,["modelValue","rules"]),t(u,{modelValue:o.editedItem.contato_valor,"onUpdate:modelValue":e[4]||(e[4]=r=>o.editedItem.contato_valor=r),label:"Telefone/Email",rules:[l.validation.required,l.validation.minLength(8),l.validation.maxLength(50)],counter:"50",mask:a.getContactMask(o.editedItem.contato_tipo),onInput:a.formatContactValue,onKeypress:a.onContactKeypress,required:""},null,8,["modelValue","rules","mask","onInput","onKeypress"]),t(j,{modelValue:o.editedItem.contato_tipo,"onUpdate:modelValue":e[5]||(e[5]=r=>o.editedItem.contato_tipo=r),items:o.tipoContatoOptions,label:"Tipo de Contato",rules:[l.validation.required],required:""},null,8,["modelValue","items","rules"])]),_:1},8,["modelValue"])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDialog},{default:i(()=>[...e[11]||(e[11]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:a.save},{default:i(()=>[...e[12]||(e[12]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[8]||(e[8]=r=>o.deleteDialog=r),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,{class:"text-h5"},{default:i(()=>[...e[13]||(e[13]=[s("Confirmar Exclusão",-1)])]),_:1}),t(c,null,{default:i(()=>[s(' Tem certeza que deseja excluir o fornecedor "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDeleteDialog},{default:i(()=>[...e[14]||(e[14]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"error",variant:"text",onClick:a.deleteItemConfirm},{default:i(()=>[...e[15]||(e[15]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const B=D(me,[["render",pe]]),ge={name:"UnidadesMedidaCRUD",mixins:[U,E],data(){return{loading:!1,dialog:!1,validForm:!1,formRef:null,unidades:[],editedIndex:-1,editedItem:{id:0,descricao:"",abreviacao:"un"},defaultItem:{id:0,descricao:"",abreviacao:"un"},headers:[{title:"ID",key:"id",sortable:!0},{title:"Descrição",key:"descricao",sortable:!0},{title:"Abreviação",key:"abreviacao",sortable:!0},{title:"Ações",key:"actions",sortable:!1}],unidadeOptions:[{title:"Unidade",value:"un"},{title:"Quilograma",value:"kg"},{title:"Litro",value:"L"},{title:"Pacote",value:"pac"},{title:"Caixa",value:"cx"},{title:"Grama",value:"g"},{title:"Mililitro",value:"ml"}]}},computed:{formTitle(){return this.editedIndex===-1?"Nova Unidade de Medida":"Editar Unidade de Medida"}},mounted(){this.loadUnidades()},methods:{async loadUnidades(){this.loading=!0;try{this.unidades=await M.getAll()}catch{this.showError("Erro ao carregar unidades de medida")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(l){this.editedIndex=this.unidades.indexOf(l),this.editedItem={...l},this.dialog=!0},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const l=await M.update(this.editedItem.id,this.editedItem);this.unidades[this.editedIndex]=l,this.showSuccess("Unidade de medida atualizada com sucesso!")}else{const l=await M.create(this.editedItem);this.unidades.push(l),this.showSuccess("Unidade de medida criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar unidade de medida")}}}},ve={class:"unidades-medida-crud"},he={class:"text-h5"};function Ie(l,e,v,x,o,a){return y(),k("div",ve,[t(f,null,{default:i(()=>[t(m,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[6]||(e[6]=p("span",{class:"text-h6"},"Gerenciar Unidades de Medida",-1)),t(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>a.openDialog())},{default:i(()=>[...e[5]||(e[5]=[s(" Nova Unidade ",-1)])]),_:1})]),_:1}),t(c,null,{default:i(()=>[t(_,{headers:o.headers,items:o.unidades,loading:o.loading,class:"elevation-1"},{"item.abreviacao":i(({item:d})=>[t(P,{color:"primary",variant:"outlined"},{default:i(()=>[s(g(d.abreviacao),1)]),_:2},1024)]),"item.actions":i(({item:d})=>[t(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>a.editItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),t(C,{modelValue:o.dialog,"onUpdate:modelValue":e[4]||(e[4]=d=>o.dialog=d),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,null,{default:i(()=>[p("span",he,g(a.formTitle),1)]),_:1}),t(c,null,{default:i(()=>[t(z,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[3]||(e[3]=d=>o.validForm=d)},{default:i(()=>[t(u,{modelValue:o.editedItem.descricao,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.descricao=d),label:"Descrição",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(50),l.validation.alfanumerico],counter:"50",required:""},null,8,["modelValue","rules"]),t(j,{modelValue:o.editedItem.abreviacao,"onUpdate:modelValue":e[2]||(e[2]=d=>o.editedItem.abreviacao=d),items:o.unidadeOptions,label:"Abreviação",rules:[l.validation.required],required:""},null,8,["modelValue","items","rules"])]),_:1},8,["modelValue"])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDialog},{default:i(()=>[...e[7]||(e[7]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:a.save},{default:i(()=>[...e[8]||(e[8]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const J=D(ge,[["render",Ie]]),Ce={name:"MarcasCRUD",mixins:[U,E],data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,marcas:[],editedIndex:-1,editedItem:{id:0,nome:""},defaultItem:{id:0,nome:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},computed:{formTitle(){return this.editedIndex===-1?"Nova Marca":"Editar Marca"}},mounted(){this.loadMarcas()},methods:{async loadMarcas(){this.loading=!0;try{this.marcas=await T.getAll()}catch{this.showError("Erro ao carregar marcas")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(l){this.editedIndex=this.marcas.indexOf(l),this.editedItem={...l},this.dialog=!0},deleteItem(l){this.editedIndex=this.marcas.indexOf(l),this.editedItem={...l},this.deleteDialog=!0},async deleteItemConfirm(){try{await T.delete(this.editedItem.id),this.marcas.splice(this.editedIndex,1),this.showSuccess("Marca excluída com sucesso!")}catch{this.showError("Erro ao excluir marca")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const l=await T.update(this.editedItem.id,this.editedItem);this.marcas[this.editedIndex]=l,this.showSuccess("Marca atualizada com sucesso!")}else{const l=await T.create(this.editedItem);this.marcas.push(l),this.showSuccess("Marca criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar marca")}}}},xe={class:"marcas-crud"},Ve={class:"text-h5"};function De(l,e,v,x,o,a){return y(),k("div",xe,[t(f,null,{default:i(()=>[t(m,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[6]||(e[6]=p("span",{class:"text-h6"},"Gerenciar Marcas",-1)),t(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>a.openDialog())},{default:i(()=>[...e[5]||(e[5]=[s(" Nova Marca ",-1)])]),_:1})]),_:1}),t(c,null,{default:i(()=>[t(_,{headers:o.headers,items:o.marcas,loading:o.loading,class:"elevation-1"},{"item.actions":i(({item:d})=>[t(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>a.editItem(d)},null,8,["onClick"]),t(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:r=>a.deleteItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),t(C,{modelValue:o.dialog,"onUpdate:modelValue":e[3]||(e[3]=d=>o.dialog=d),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,null,{default:i(()=>[p("span",Ve,g(a.formTitle),1)]),_:1}),t(c,null,{default:i(()=>[t(z,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[2]||(e[2]=d=>o.validForm=d)},{default:i(()=>[t(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.nome=d),label:"Nome da Marca",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(100),l.validation.nome],counter:"100",required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDialog},{default:i(()=>[...e[7]||(e[7]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:a.save},{default:i(()=>[...e[8]||(e[8]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[4]||(e[4]=d=>o.deleteDialog=d),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,{class:"text-h5"},{default:i(()=>[...e[9]||(e[9]=[s("Confirmar Exclusão",-1)])]),_:1}),t(c,null,{default:i(()=>[s(' Tem certeza que deseja excluir a marca "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDeleteDialog},{default:i(()=>[...e[10]||(e[10]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"error",variant:"text",onClick:a.deleteItemConfirm},{default:i(()=>[...e[11]||(e[11]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const W=D(Ce,[["render",De]]),ke={name:"CategoriasCRUD",mixins:[U,E],data(){return{loading:!1,dialog:!1,deleteDialog:!1,validForm:!1,formRef:null,categorias:[],editedIndex:-1,editedItem:{id:0,nome:""},defaultItem:{id:0,nome:""},headers:[{title:"ID",key:"id",sortable:!0},{title:"Nome",key:"nome",sortable:!0},{title:"Ações",key:"actions",sortable:!1}]}},computed:{formTitle(){return this.editedIndex===-1?"Nova Categoria":"Editar Categoria"}},mounted(){this.loadCategorias()},methods:{async loadCategorias(){this.loading=!0;try{this.categorias=await q.getAll()}catch{this.showError("Erro ao carregar categorias")}finally{this.loading=!1}},openDialog(){this.dialog=!0},editItem(l){this.editedIndex=this.categorias.indexOf(l),this.editedItem={...l},this.dialog=!0},deleteItem(l){this.editedIndex=this.categorias.indexOf(l),this.editedItem={...l},this.deleteDialog=!0},async deleteItemConfirm(){try{await q.delete(this.editedItem.id),this.categorias.splice(this.editedIndex,1),this.showSuccess("Categoria excluída com sucesso!")}catch{this.showError("Erro ao excluir categoria")}this.closeDeleteDialog()},closeDialog(){this.dialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick(()=>{this.editedItem={...this.defaultItem},this.editedIndex=-1})},async save(){if(this.validForm)try{if(this.editedIndex>-1){const l=await q.update(this.editedItem.id,this.editedItem);this.categorias[this.editedIndex]=l,this.showSuccess("Categoria atualizada com sucesso!")}else{const l=await q.create(this.editedItem);this.categorias.push(l),this.showSuccess("Categoria criada com sucesso!")}this.closeDialog()}catch{this.showError("Erro ao salvar categoria")}}}},ye={class:"categorias-crud"},be={class:"text-h5"};function we(l,e,v,x,o,a){return y(),k("div",ye,[t(f,null,{default:i(()=>[t(m,{class:"d-flex justify-space-between align-center"},{default:i(()=>[e[6]||(e[6]=p("span",{class:"text-h6"},"Gerenciar Categorias",-1)),t(n,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=d=>a.openDialog())},{default:i(()=>[...e[5]||(e[5]=[s(" Nova Categoria ",-1)])]),_:1})]),_:1}),t(c,null,{default:i(()=>[t(_,{headers:o.headers,items:o.categorias,loading:o.loading,class:"elevation-1"},{"item.actions":i(({item:d})=>[t(n,{icon:"mdi-pencil",size:"small",color:"primary",variant:"text",onClick:r=>a.editItem(d)},null,8,["onClick"]),t(n,{icon:"mdi-delete",size:"small",color:"error",variant:"text",onClick:r=>a.deleteItem(d)},null,8,["onClick"])]),_:2},1032,["headers","items","loading"])]),_:1})]),_:1}),t(C,{modelValue:o.dialog,"onUpdate:modelValue":e[3]||(e[3]=d=>o.dialog=d),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,null,{default:i(()=>[p("span",be,g(a.formTitle),1)]),_:1}),t(c,null,{default:i(()=>[t(z,{ref:"formRef",modelValue:o.validForm,"onUpdate:modelValue":e[2]||(e[2]=d=>o.validForm=d)},{default:i(()=>[t(u,{modelValue:o.editedItem.nome,"onUpdate:modelValue":e[1]||(e[1]=d=>o.editedItem.nome=d),label:"Nome da Categoria",rules:[l.validation.required,l.validation.minLength(2),l.validation.maxLength(100),l.validation.nome],counter:"100",required:""},null,8,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDialog},{default:i(()=>[...e[7]||(e[7]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"primary",variant:"text",disabled:!o.validForm,onClick:a.save},{default:i(()=>[...e[8]||(e[8]=[s(" Salvar ",-1)])]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(C,{modelValue:o.deleteDialog,"onUpdate:modelValue":e[4]||(e[4]=d=>o.deleteDialog=d),"max-width":"500px"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,{class:"text-h5"},{default:i(()=>[...e[9]||(e[9]=[s("Confirmar Exclusão",-1)])]),_:1}),t(c,null,{default:i(()=>[s(' Tem certeza que deseja excluir a categoria "'+g(o.editedItem.nome)+'"? ',1)]),_:1}),t(h,null,{default:i(()=>[t(I),t(n,{color:"grey",variant:"text",onClick:a.closeDeleteDialog},{default:i(()=>[...e[10]||(e[10]=[s(" Cancelar ",-1)])]),_:1},8,["onClick"]),t(n,{color:"error",variant:"text",onClick:a.deleteItemConfirm},{default:i(()=>[...e[11]||(e[11]=[s(" Excluir ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Q=D(ke,[["render",we]]),Ue={name:"ConfiguracoesPage",components:{CategoriasCRUD:Q,DepositosCRUD:K,FornecedoresCRUD:B,LocalizacoesCRUD:G,MarcasCRUD:W,UnidadesMedidaCRUD:J},data(){return{tab:"categorias"}}},Ee={class:"configuracoes-page"};function _e(l,e,v,x,o,a){const d=Q,r=W,F=J,H=B,X=G,Y=K;return y(),k("div",Ee,[t(ee,{fluid:""},{default:i(()=>[t(Z,null,{default:i(()=>[t($,{cols:"12"},{default:i(()=>[t(f,null,{default:i(()=>[t(m,{class:"d-flex align-center"},{default:i(()=>[t(V,{class:"mr-3",color:"primary"},{default:i(()=>[...e[2]||(e[2]=[s("mdi-cog",-1)])]),_:1}),e[3]||(e[3]=p("span",{class:"text-h5"},"Configurações do Sistema",-1))]),_:1}),t(c,null,{default:i(()=>[t(te,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=N=>o.tab=N),"align-tabs":"start",class:"mb-4",color:"primary"},{default:i(()=>[t(b,{value:"categorias"},{default:i(()=>[t(V,{class:"mr-2"},{default:i(()=>[...e[4]||(e[4]=[s("mdi-tag-multiple",-1)])]),_:1}),e[5]||(e[5]=s(" Categorias ",-1))]),_:1}),t(b,{value:"marcas"},{default:i(()=>[t(V,{class:"mr-2"},{default:i(()=>[...e[6]||(e[6]=[s("mdi-tag",-1)])]),_:1}),e[7]||(e[7]=s(" Marcas ",-1))]),_:1}),t(b,{value:"unidades"},{default:i(()=>[t(V,{class:"mr-2"},{default:i(()=>[...e[8]||(e[8]=[s("mdi-scale-balance",-1)])]),_:1}),e[9]||(e[9]=s(" Unidades de Medida ",-1))]),_:1}),t(b,{value:"fornecedores"},{default:i(()=>[t(V,{class:"mr-2"},{default:i(()=>[...e[10]||(e[10]=[s("mdi-truck-delivery",-1)])]),_:1}),e[11]||(e[11]=s(" Fornecedores ",-1))]),_:1}),t(b,{value:"localizacoes"},{default:i(()=>[t(V,{class:"mr-2"},{default:i(()=>[...e[12]||(e[12]=[s("mdi-map-marker",-1)])]),_:1}),e[13]||(e[13]=s(" Localizações ",-1))]),_:1}),t(b,{value:"depositos"},{default:i(()=>[t(V,{class:"mr-2"},{default:i(()=>[...e[14]||(e[14]=[s("mdi-warehouse",-1)])]),_:1}),e[15]||(e[15]=s(" Depósitos ",-1))]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=N=>o.tab=N)},{default:i(()=>[t(w,{value:"categorias"},{default:i(()=>[t(d)]),_:1}),t(w,{value:"marcas"},{default:i(()=>[t(r)]),_:1}),t(w,{value:"unidades"},{default:i(()=>[t(F)]),_:1}),t(w,{value:"fornecedores"},{default:i(()=>[t(H)]),_:1}),t(w,{value:"localizacoes"},{default:i(()=>[t(X)]),_:1}),t(w,{value:"depositos"},{default:i(()=>[t(Y)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const We=D(Ue,[["render",_e],["__scopeId","data-v-e2935767"]]);export{We as default};
