import{U as a}from"./index-2CK1TBd1.js";const c=n=>({id:n.id,nome:n.nome,valor:n.valor??"",tipo_contato:n.tipo_contato??"outro",codigo_pais:n.codigo_pais??null,data_criacao:n.dataCriacao??new Date().toISOString()}),i=n=>({id:n.id,nome:n.nome,cnpj:n.cnpj??null,id_contato:n.contato?.id??null,contato:n.contato?c(n.contato):void 0}),s=n=>{const t=Object.entries(n).filter(([,o])=>o!=null);return Object.fromEntries(t)};class p{endpoint="/fornecedores";async fetchAll(){const{data:t}=await a.get(this.endpoint);return t}async getAll(){return(await this.fetchAll()).map(i)}async getAllEnriched(){return(await this.fetchAll()).map(o=>({...i(o),contato_nome:o.contato?.nome,contato_valor:o.contato?.valor??void 0,contato_tipo:o.contato?.tipo_contato}))}async getById(t){const{data:o}=await a.get(`${this.endpoint}/${t}`);return i(o)}async create(t){const o=s({nome:t.nome,cnpj:t.cnpj??void 0,id_contato:t.id_contato??void 0,ativo:!0}),{data:e}=await a.post(this.endpoint,o);return i(e)}async update(t,o){const e=s({nome:o.nome,cnpj:o.cnpj,id_contato:o.id_contato}),{data:d}=await a.patch(`${this.endpoint}/${t}`,e);return i(d)}async delete(t){await a.delete(`${this.endpoint}/${t}`)}}class r{endpoint="/contatos";async fetchAll(){const{data:t}=await a.get(this.endpoint);return t}async getAll(){return(await this.fetchAll()).map(c)}async getById(t){const{data:o}=await a.get(`${this.endpoint}/${t}`);return c(o)}async create(t){const o=s({nome:t.nome,valor:t.valor,tipo_contato:t.tipo_contato,codigo_pais:t.codigo_pais,ativo:!0}),{data:e}=await a.post(this.endpoint,o);return c(e)}async update(t,o){const e=s({nome:o.nome,valor:o.valor,tipo_contato:o.tipo_contato,codigo_pais:o.codigo_pais}),{data:d}=await a.patch(`${this.endpoint}/${t}`,e);return c(d)}async delete(t){await a.delete(`${this.endpoint}/${t}`)}}const m=new p,_=new r;export{_ as C,m as S};
